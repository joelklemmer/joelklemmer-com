/* Figma Make parity — loads LAST. Pixel match for https://pages-tile-41445691.figma.site/
   Target: ~1440px viewport. Exact hex from figma-make tokens — see docs/authority/figma-color-verification.md */

/* --------------------------------------------------------------------------- */
/* 1440px: container width + padding — less boxed, more open (Figma editorial)   */
/* --------------------------------------------------------------------------- */
@media (min-width: 1440px) {
  :root {
    --container-max-width: 1320px;
    --container-padding-x: 3.75rem;
    --container-padding-x-wide: 3.75rem;
    --optical-inset: 0;
    --gutter-inline-start: calc(
      3.75rem + env(safe-area-inset-inline-start, 0px)
    );
    --gutter-inline-end: calc(3.75rem + env(safe-area-inset-inline-end, 0px));
  }
}

/* Body bg: use figma-make token 60 11% 96% (#F6F6F4) — no override */

/* --------------------------------------------------------------------------- */
/* Hero section: Figma pixel match — lighter, editorial, smaller headline       */
/* --------------------------------------------------------------------------- */
/* H1: ~58px, weight 400, line-height 1.08 (Figma editorial, not bold) */
.hero-title {
  font-family: var(--font-serif) !important;
  font-size: clamp(1.5rem, 3vw + 1rem, 3.625rem) !important;
  line-height: 1.08 !important;
  letter-spacing: 0 !important;
  font-weight: 400 !important;
  color: hsl(var(--color-text)) !important;
}

/* Thesis lines: Figma rhythm — tighter spacing between phrases */
.hero-title span {
  display: block;
  white-space: nowrap;
}
.hero-title span:not(:last-child) {
  margin-block-end: 0.12em;
}

@media (max-width: 479px) {
  .hero-title span {
    white-space: normal;
  }
}

/* Lede: Sans-serif; 32rem for wrapping. Color: --color-text-tertiary (#6B6B6B) exact Figma */
.hero-lede {
  font-family: var(--font-sans) !important;
  font-size: var(--text-body-large, 1.125rem) !important;
  font-weight: var(--font-weight-normal, 400) !important;
  line-height: var(--text-body-large-line, 1.65) !important;
  color: hsl(var(--color-text-tertiary)) !important;
  max-width: min(32rem, 100%) !important;
}

/* CTAs: gap between buttons; vertical spacing from grid gap (hero-authority-content) */
.hero-actions {
  gap: var(--space-4) !important;
  margin-block-start: 0 !important;
  margin-block-end: 0 !important;
}

/* --------------------------------------------------------------------------- */
/* Hero image: Figma wide landscape frame (3:2); right 32% so head visible    */
/* --------------------------------------------------------------------------- */
@media (min-width: 1024px) {
  .hero-authority .portrait-image-wrapper {
    aspect-ratio: 3/2 !important;
  }
  .hero-authority .portrait-image {
    object-position: right 32% !important;
  }
}

/* Portrait: Figma light flat bg (no dark), rectangular, no shadow */
.hero-portrait-wrapper,
.hero-portrait-composition,
.hero-authority-visual-frame .hero-portrait-wrapper,
.portrait-image-wrapper {
  border-radius: 0 !important;
}

.hero-authority .hero-portrait-wrapper,
.hero-authority .hero-portrait-composition {
  background: hsl(
    var(--color-neutral-100, var(--color-surface-elevated))
  ) !important;
  box-shadow: none !important;
}

.hero-portrait-wrapper {
  box-shadow: none !important;
}

.hero-photo {
  border-radius: 0 !important;
}

/* Hero portrait: refined contrast, cooler tone, subtle vignette, matte finish.
   Sharper eyes handled in source asset. */
.hero-authority .hero-portrait-composition {
  position: relative;
  overflow: hidden;
}
.hero-authority .portrait-image {
  filter: contrast(1.06) saturate(0.92) hue-rotate(-5deg) !important;
}
.hero-authority .hero-portrait-composition::after {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(
    ellipse 90% 90% at 50% 50%,
    transparent 55%,
    rgba(0, 0, 0, 0.06) 100%
  );
  pointer-events: none;
}

/* --------------------------------------------------------------------------- */
/* Hero CTAs: Figma editorial — smaller buttons, lighter secondary border     */
/* --------------------------------------------------------------------------- */
.hero-action-link,
.hero-action-primary,
.hero-action-secondary {
  border-radius: 0.25rem !important;
  padding-block: 0.625rem !important;
  padding-inline: var(--space-4) !important;
  font-size: 0.875rem !important;
  font-weight: var(--font-weight-normal, 400) !important;
  gap: 0.375rem !important;
}

.hero-action-secondary {
  border-color: hsl(var(--color-border)) !important;
}

.hero-action-secondary:hover {
  border-color: hsl(var(--color-accent)) !important;
}

/* Hero content block: Figma spacing — tighter headline/lede/buttons rhythm */
.hero-authority-content {
  gap: var(--space-5) !important;
}

/* --------------------------------------------------------------------------- */
/* Cards, section anchors: rectangular per Figma                               */
/* --------------------------------------------------------------------------- */
.authority-card,
.section-visual-anchor,
.authority-glass,
.authority-panel {
  border-radius: 0 !important;
}

/* --------------------------------------------------------------------------- */
/* Scroll-to-top, footer controls                                              */
/* --------------------------------------------------------------------------- */
.footer-scroll-to-top,
[class*='scroll-to-top'] {
  border-radius: 0 !important;
}

/* Footer top divider: matches section dividers (1px, border-subtle token) */
footer.footer-root {
  border-top-width: 1px !important;
  border-top-style: solid !important;
}

/* --------------------------------------------------------------------------- */
/* Home page: visual dividers and section spacing per Figma site                 */
/* --------------------------------------------------------------------------- */
/* Hero: no extra bottom padding — CTA-to-divider = divider-to-text (both use gap/padding) */
.content-lane-grid .hero-authority {
  padding-block-end: 0;
  margin-block-end: 0;
}

/* Dividers: 1px grid-bound line between sections; width matches canonical container;
   token color for dark/light theme parity */
.content-lane-grid > section.section-shell + section.section-shell {
  border-block-start: 1px solid hsl(var(--color-border-subtle));
  padding-block-start: var(--space-8);
}

@media (min-width: 768px) {
  .content-lane-grid > section.section-shell + section.section-shell {
    padding-block-start: var(--space-10);
  }
}

/* Section spacing: Figma — tighter rhythm                                                  */
.content-lane-grid {
  gap: var(--space-8);
}

@media (min-width: 768px) {
  .content-lane-grid {
    gap: var(--space-10);
  }
}

.content-lane-grid > section.section-shell {
  margin-block-end: var(--space-8);
}

@media (min-width: 768px) {
  .content-lane-grid > section.section-shell {
    margin-block-end: var(--space-10);
  }
}

.content-lane-grid > section.section-shell:last-child {
  margin-block-end: 0;
}

/* Preferences page: compact system header, no hero, no divider, panels near top */
.preferences-page-root {
  padding-block-start: var(--space-4);
  padding-block-end: var(--space-8);
}

@media (min-width: 768px) {
  .preferences-page-root {
    padding-block-start: var(--space-6);
    padding-block-end: var(--space-10);
  }
}

.preferences-page-inner {
  display: flex;
  flex-direction: column;
  gap: var(--space-6);
}

@media (min-width: 768px) {
  .preferences-page-inner {
    gap: var(--space-8);
  }
}

.preferences-header {
  margin-block-end: 0;
}

.preferences-title {
  font-family: var(--font-serif);
  font-size: clamp(1.25rem, 2vw + 0.75rem, 1.75rem);
  font-weight: var(--section-heading-weight, 500);
  line-height: 1.2;
  letter-spacing: var(--section-heading-letter-spacing, 0);
  color: hsl(var(--color-text));
  margin-block-end: var(--space-2);
}

.preferences-lede {
  font-size: var(--text-body, 1rem);
  line-height: 1.5;
  margin: 0;
  max-width: 36ch;
}

/* --------------------------------------------------------------------------- */
/* Header/nav: Figma pixel match — divider #D9D7D4 (--color-border-subtle)      */
/* --------------------------------------------------------------------------- */
header[aria-label] {
  --masthead-border: hsl(var(--color-border-subtle));
  --masthead-bg: hsl(var(--color-surface));
  --masthead-bg-scrolled: hsl(var(--color-surface));
}

header[aria-label] .masthead-identity-link {
  font-weight: 500;
}

/* Visual balance: reduce logo dominance on desktop; keep mobile unchanged */
@media (min-width: 1024px) {
  header[aria-label] .masthead-identity-link {
    font-weight: 400;
  }
}

header[aria-label] .nav-primary-link {
  font-weight: 400;
}

header[aria-label] .masthead-icon svg {
  stroke-width: 1.5;
}

/* --------------------------------------------------------------------------- */
/* Ukrainian locale: hero H1 wrap + header brand visibility (UA-only overrides) */
/* --------------------------------------------------------------------------- */
/* Hero: allow H1 to wrap within column; prevent bleed into photo */
html[lang='uk'] .hero-authority-content {
  min-width: 0;
}
html[lang='uk'] .hero-title {
  overflow-wrap: anywhere !important;
  word-break: break-word;
  min-width: 0;
}
html[lang='uk'] .hero-title span {
  white-space: normal !important;
}
@media (min-width: 1024px) {
  html[lang='uk'] .hero-title {
    font-size: clamp(1.5rem, 3vw + 1rem, 3.25rem) !important;
  }
}

/* Header: brand never truncates; nav shrinks first; Контакти visible (UA-only) */
header[data-locale='uk'][aria-label] .masthead-identity {
  flex-shrink: 0;
}
header[data-locale='uk'][aria-label] .masthead-controls {
  flex-shrink: 1;
  min-width: 0;
}
header[data-locale='uk'][aria-label] .masthead-nav {
  flex-shrink: 1;
  min-width: 0;
}
header[data-locale='uk'][aria-label] .masthead-utilities-wrap {
  flex-shrink: 0;
}
/* UA nav: tighter gap + smaller font at lg+ so all items visible */
header[data-locale='uk'] .masthead-nav-uk {
  flex-wrap: wrap;
  row-gap: 0.25rem;
}
@media (min-width: 1100px) {
  header[data-locale='uk'] .masthead-nav-primary {
    --nav-primary-gap: 0.5rem;
    --nav-primary-padding-inline: 0.5rem;
    --text-nav: 0.8125rem;
    --text-nav-line: 1.35;
  }
}
@media (min-width: 1280px) {
  header[data-locale='uk'] .masthead-nav-primary {
    --nav-primary-gap: 0.5rem;
    --nav-primary-padding-inline: 0.5rem;
    --text-nav: 0.8125rem;
  }
}
@media (min-width: 1536px) {
  header[data-locale='uk'] .masthead-nav-primary {
    --nav-primary-gap: 0.75rem;
    --nav-primary-padding-inline: 0.625rem;
  }
}
