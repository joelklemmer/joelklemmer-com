/* Masthead responsive — single unit across all viewports.
   Figma: https://pages-tile-41445691.figma.site/
   Breakpoints: TV/4K → desktop → laptop → tablet → mobile → IoT (320px).
   Structure: [identity (truncates)] [controls (hamburger+icons | nav+icons)] */

/* IoT (320px) → mobile → tablet → desktop → TV. Gaps scale so controls always fit. */
:root {
  --masthead-bar-gap: 0.375rem;
}
@media (min-width: 360px) {
  :root {
    --masthead-bar-gap: 0.5rem;
  }
}

@media (min-width: 480px) {
  :root {
    --masthead-bar-gap: 0.75rem;
  }
}
@media (min-width: 768px) {
  :root {
    --masthead-bar-gap: 1rem;
  }
}
@media (min-width: 1024px) {
  :root {
    --masthead-bar-gap: 1.25rem;
  }
}
@media (min-width: 1280px) {
  :root {
    --masthead-bar-gap: 1.5rem;
  }
}
@media (min-width: 1920px) {
  :root {
    --masthead-bar-gap: 1.5rem;
  }
}

/* Masthead: uses --masthead-text/--masthead-text-muted (light mode: black bg + light text; dark mode: surface bg + light text).
   High specificity so header always uses masthead tokens regardless of load order. */
header[aria-label] {
  color: hsl(var(--masthead-text));
}
header[aria-label] .masthead-identity-link,
header[aria-label] .nav-primary-link,
header[aria-label] .masthead-icon,
header[aria-label] .masthead-touch-target,
header[aria-label] .nav-primary-mobile,
header[aria-label] [data-masthead-utilities] button,
header[aria-label] [data-masthead-utilities] [role='button'],
header[aria-label] [data-masthead-utilities] a {
  color: inherit;
}
header[aria-label] .masthead-icon,
header[aria-label] .masthead-touch-target,
header[aria-label] .nav-primary-mobile,
header[aria-label] [data-masthead-utilities] button,
header[aria-label] [data-masthead-utilities] [role='button'] {
  color: hsl(var(--masthead-text-muted));
}
header[aria-label] .masthead-icon:hover,
header[aria-label] .masthead-touch-target:hover,
header[aria-label] .nav-primary-mobile:hover,
header[aria-label] [data-masthead-utilities] button:hover,
header[aria-label] [data-masthead-utilities] [role='button']:hover {
  color: hsl(var(--masthead-text));
}

/* Theme sync: ensure masthead uses correct vars (light/dark set by 20-layout) */
:root[data-theme='light'] header[aria-label],
:root[data-theme='light'] header[aria-label] * {
  --color-text: var(--masthead-text);
  --color-muted: var(--masthead-text-muted);
}
:root[data-theme='dark'] header[aria-label],
:root[data-theme='dark'] header[aria-label] * {
  --color-text: var(--masthead-text);
  --color-muted: var(--masthead-text-muted);
}
@media (prefers-color-scheme: light) {
  :root:not([data-theme='dark']) header[aria-label],
  :root:not([data-theme='dark']) header[aria-label] * {
    --color-text: var(--masthead-text);
    --color-muted: var(--masthead-text-muted);
  }
}
@media (prefers-color-scheme: dark) {
  :root:not([data-theme='light']) header[aria-label],
  :root:not([data-theme='light']) header[aria-label] * {
    --color-text: var(--masthead-text);
    --color-muted: var(--masthead-text-muted);
  }
}

/* Hamburger below 1280px (xl); full nav above — per Figma spec */
.layout-root header .nav-primary-list[data-nav='desktop'] {
  display: none !important;
}
.layout-root header .nav-primary-mobile[data-nav='mobile'],
.layout-root header details.nav-primary-mobile,
.layout-root header .nav-primary > .nav-primary-mobile {
  display: flex !important;
}

@media (min-width: 1280px) {
  .layout-root header .nav-primary-list[data-nav='desktop'] {
    display: flex !important;
  }
  .layout-root header .nav-primary-mobile[data-nav='mobile'],
  .layout-root header details.nav-primary-mobile,
  .layout-root header .nav-primary > .nav-primary-mobile {
    display: none !important;
  }
  /* Desktop: nav expands to center links between identity and utilities */
  .layout-root header .masthead-nav {
    flex: 1 1 0;
    min-width: 0;
  }
  .layout-root header .nav-primary {
    justify-content: center;
    width: 100%;
  }
  .layout-root header .masthead-nav-primary {
    --nav-primary-gap: 0.75rem;
    --nav-primary-padding-inline: 0.75rem;
    --text-nav: 0.875rem;
    --text-nav-line: 1.35;
  }
}

@media (min-width: 1100px) {
  .layout-root header .masthead-nav-primary {
    --nav-primary-gap: 1rem;
    --nav-primary-padding-inline: 0.875rem;
    --text-nav: 0.9375rem;
    --text-nav-line: 1.4;
  }
}

@media (min-width: 1280px) {
  .layout-root header .masthead-nav-primary {
    --nav-primary-gap: 1.25rem;
    --nav-primary-padding-inline: 1rem;
  }
}

@media (min-width: 1536px) {
  .layout-root header .masthead-nav-primary {
    --nav-primary-gap: 1.5rem;
  }
}
